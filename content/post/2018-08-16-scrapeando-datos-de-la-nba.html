---
title: Scraping NBA data
author: Rafa
date: '2018-08-16'
slug: scraping-nba-data
categories: []
tags: []
---



<p>The NBA does a great job releasing statistics on every aspect of the game. Most teams have analytics experts crunching those numbers</p>
<div id="nba-reference" class="section level1">
<h1>NBA Reference</h1>
<p>This website has statistics on every player</p>
<p>La versi√≥n final del script:</p>
<pre class="r"><code>library(glue)
library(purrr)
library(dplyr)
library(rvest)

# Download data table from basketball reference
get_player_data &lt;- function(year) {
  
  base_nba_url &lt;- &quot;https://www.basketball-reference.com/leagues/NBA_{year}_per_game.html&quot;
  
  glue(base_nba_url) %&gt;% 
    read_html(nba_url) %&gt;% 
    html_table() %&gt;% 
    as.data.frame() %&gt;% 
    as_tibble %&gt;% 
    mutate(Year = year)
}

data &lt;- as.list(2000:2018) %&gt;% 
  purrr::map(get_player_data) %&gt;% 
  purrr::reduce(bind_rows)  %&gt;% 
  mutate_at(vars(G:PS.G, Age), as.numeric) %&gt;% 
  mutate_at(vars(Tm, Pos), factor) 

#saveRDS(data, file=&quot;nba_data_00_18.rds&quot;)</code></pre>
</div>
