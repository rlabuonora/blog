---
title: Scrapeando datos de la NBA
author: Rafa
date: '2018-08-16'
slug: scrapeando-datos-de-la-nba
categories: []
tags: []
---



<p>La NBA tiene un eco-sistema alrededor que enriquece muchísimo el producto. En Youtube hay técnicos que analizan la estrategia de los equipos (bballreakdown, coach daniel), gente especializada en analizar los salarios y los contratos y un montón de cosas.</p>
<p>La NBA también fue pionera en el tema de liberar estadísticas, y todos los equipos tienen gente en analytics. De hecho, algunos de los técnicos más exitosos de los últimos años son los que incorporaron los insights de los analytics (Steve Kerr y Brad Stevens por mencionar alguno).</p>
<p>En este post explico como bajar datos de jugadores de la NBA usando un paquete de R para scrapear datos.</p>
<pre class="r"><code>library(glue)
library(purrr)
library(dplyr)
library(rvest)

# Download data table from basketball reference
get_player_data &lt;- function(year) {
  
  base_nba_url &lt;- &quot;https://www.basketball-reference.com/leagues/NBA_{year}_per_game.html&quot;
  
  glue(base_nba_url) %&gt;% 
    read_html(nba_url) %&gt;% 
    html_table() %&gt;% 
    as.data.frame() %&gt;% 
    as_tibble %&gt;% 
    mutate(Year = year)
}

data &lt;- as.list(2000:2018) %&gt;% 
  purrr::map(get_player_data) %&gt;% 
  purrr::reduce(bind_rows)  %&gt;% 
  mutate_at(vars(G:PS.G, Age), as.numeric) %&gt;% 
  mutate_at(vars(Tm, Pos), factor) 

saveRDS(data, file=&quot;nba_data_00_18.rds&quot;)</code></pre>
